<?xml version="1.0" encoding="utf-8" ?>
<Defs>
	<ThingDef ParentName="DrugBase">
		<defName>CrudeHappyPill</defName>
		<label>crude happy pill</label>
		<description>f</description>
		<descriptionHyperlinks>
			<HediffDef>HappyPillHigh</HediffDef>
			<HediffDef>HappyPillTolerance</HediffDef>
			<HediffDef>HappyPillAddiction</HediffDef>
		</descriptionHyperlinks>
		<tradeability>Sellable</tradeability>
		<socialPropernessMatters>true</socialPropernessMatters>
		<tickerType>Rare</tickerType>
		<graphicData>
			<texPath>Things/Item/Drug/Penoxycyline</texPath>
			<graphicClass>Graphic_StackCount</graphicClass>
		</graphicData>
		<statBases>
			<MarketValue>3</MarketValue>
			<Mass>0.1</Mass>
			<DeteriorationRate>4</DeteriorationRate>
		</statBases>
		<techLevel>Neolithic</techLevel>
		<ingestible>
			<baseIngestTicks>100</baseIngestTicks>
			<joyKind>Chemical</joyKind>
			<joy>0.5</joy>
			<nurseable>true</nurseable>
			<drugCategory>Social</drugCategory>
			<outcomeDoers>
				<li Class="IngestionOutcomeDoer_GiveHediff">
					<hediffDef>HappyPillHigh</hediffDef>
					<severity>0.10</severity>
					<toleranceChemical>CrudeHappyPill</toleranceChemical>
				</li>
				<li Class="IngestionOutcomeDoer_GiveHediff">
					<hediffDef>HappyPillTolerance</hediffDef>
					<severity>0.032</severity>
					<divideByBodySize>true</divideByBodySize>
				</li>
			</outcomeDoers>
		</ingestible>
		<comps>
			<li Class="CompProperties_Rottable">
				<daysToRotStart>30</daysToRotStart>
				<rotDestroys>true</rotDestroys>
			</li>
			<li Class="CompProperties_Drug">
				<chemical>CrudeHappyPill</chemical>
				<addictiveness>0.50</addictiveness>
				<minToleranceToAddict>0.15</minToleranceToAddict>
				<existingAddictionSeverityOffset>0.1</existingAddictionSeverityOffset>
				<needLevelOffset>1</needLevelOffset>
				<listOrder>30</listOrder>
			</li>
		</comps>
	</ThingDef>
	<HediffDef>
		<defName>HappyPillHigh</defName>
		<label>high on corn</label>
		<description>Vibin hard on corn based drugs. A natural high.</description>
		<hediffClass>HediffWithComps</hediffClass>
		<defaultLabelColor>(1,0,0.5)</defaultLabelColor>
		<scenarioCanAdd>true</scenarioCanAdd>
		<maxSeverity>1.0</maxSeverity>
		<isBad>false</isBad>
		<comps>
			<li Class="HediffCompProperties_SeverityPerDay">
				<severityPerDay>-0.75</severityPerDay>
			</li>
		</comps>
		<stages></stages>
	</HediffDef>

	<!-- ThoughtDefs -->
	<ThoughtDef Name="happypillbase" Abstract="True">
		<workerClass>ThoughtWorker_Hediff</workerClass>
		<hediff>HappyPillHigh</hediff>
		<validWhileDespawned>true</validWhileDespawned>
		<stages>
			<li>
				<label>happy pill high</label>
				<description>Vibin hard on happy pills</description>
			</li>
		</stages>
	</ThoughtDef>
	<ThoughtDef ParentName="happypillbase">
		<defName>CrudeHappyPillHigh</defName>
		<stages>
			<li>
				<baseMoodEffect>5</baseMoodEffect>
			</li>
		</stages>
	</ThoughtDef>

	<!-- HappyPill addiction -->
	<ChemicalDef>
		<defName>CrudeHappyPill</defName>
		<label>happy pill</label>
		<addictionHediff>HappyPillAddiction</addictionHediff>
		<toleranceHediff>HappyPillTolerance</toleranceHediff>
		<onGeneratedAddictedToleranceChance>0.8</onGeneratedAddictedToleranceChance>
	</ChemicalDef>

	<NeedDef ParentName="DrugAddictionNeedBase">
		<defName>Chemical_HappyPill</defName>
		<needClass>Need_Chemical</needClass>
		<label>happy pill</label>
		<description>Because of an ambrosia addiction, this person needs to regularly consume ambrosia to avoid withdrawal symptoms.</description>
		<listPriority>20</listPriority>
	</NeedDef>

	<HediffDef ParentName="DrugToleranceBase">
		<defName>HappyPillTolerance</defName>
		<label>happy pill tolerance</label>
		<description>A built-up tolerance to ambrosia. The more severe this tolerance is, the more ambrosia it takes to get the same effect.</description>
		<comps>
			<li Class="HediffCompProperties_SeverityPerDay">
				<severityPerDay>-0.020</severityPerDay>
			</li>
			<li Class="HediffCompProperties_DrugEffectFactor">
				<chemical>CrudeHappyPill</chemical>
			</li>
		</comps>
	</HediffDef>

	<HediffDef ParentName="AddictionBase">
		<defName>HappyPillAddiction</defName>
		<label>happy pill addiction</label>
		<description>A chemical addiction to ambrosia. Long-term presence of ambrosia has caused neurological adaptations at the cellular level, so the brain can no longer function properly without the drug.
\nWithout regular doses of ambrosia, withdrawal symptoms will begin. However, extended abstinence will force the brain to adapt back to its normal state, resolving the addiction.</description>
		<hediffClass>Hediff_Addiction</hediffClass>
		<causesNeed>Chemical_HappyPill</causesNeed>
		<comps>
			<li Class="HediffCompProperties_SeverityPerDay">
				<severityPerDay>-0.1</severityPerDay>
			</li>
		</comps>
		<stages>
			<li></li>
			<li>
				<label>withdrawal</label>
			</li>
		</stages>
	</HediffDef>

	<ThoughtDef>
		<defName>HappyPillWithdrawal</defName>
		<workerClass>ThoughtWorker_Hediff</workerClass>
		<hediff>HappyPillAddiction</hediff>
		<validWhileDespawned>true</validWhileDespawned>
		<stages>
			<li>
				<visible>false</visible>
			</li>
			<li>
				<label>corn withdrawal</label>
				<description>I feel heavy and cold all the time. I never thought I'd want a piece of veg so much.</description>
				<baseMoodEffect>-10</baseMoodEffect>
			</li>
		</stages>
	</ThoughtDef>
</Defs>
